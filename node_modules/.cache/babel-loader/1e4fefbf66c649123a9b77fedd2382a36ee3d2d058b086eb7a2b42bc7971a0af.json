{"ast":null,"code":"var _jsxFileName = \"D:\\\\BoMesWeb\\\\bomes\\\\src\\\\components\\\\Chat.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Context } from \"../index\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { Box, Button, Container, Grid, TextField } from \"@mui/material\";\nimport { getDatabase, ref, set, push, onChildAdded } from \"firebase/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Chat extends React.Component {\n  render() {\n    let key = 0;\n    const auth = useContext(Context);\n    const [user] = useAuthState(auth);\n    const db = getDatabase();\n    const refer = ref(db, \"TestPathWeb\");\n    const [value, setValue] = useState(\"\");\n    const messages = [];\n    const sendMessage = async () => {\n      push(refer, value).then(r => {});\n      setValue(\"\");\n    };\n    onChildAdded(refer, (snapshot, prevChildKey) => {\n      const newPost = snapshot.val();\n      messages.push(newPost);\n      this.forceUpdate();\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          style: {\n            height: window.innerHeight - 50,\n            marginTop: 20\n          },\n          justifyContent: 'center',\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '80%',\n              height: '70vh',\n              border: '1px solid gray',\n              overflowY: 'auto'\n            },\n            children: messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: 20\n              },\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 39,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            direction: 'column',\n            alignItems: 'flex-end',\n            style: {\n              width: '80%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              value: value,\n              onChange: e => setValue(e.target.value),\n              maxRows: 4,\n              variant: 'outlined'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: sendMessage,\n              variant: \"contained\",\n              children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this)\n    }, key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this);\n  }\n}\n// const Chat = () => {\n//\n// };\n\nexport default Chat;","map":{"version":3,"names":["React","useContext","useEffect","useState","Context","useAuthState","Box","Button","Container","Grid","TextField","getDatabase","ref","set","push","onChildAdded","jsxDEV","_jsxDEV","Chat","Component","render","key","auth","user","db","refer","value","setValue","messages","sendMessage","then","r","snapshot","prevChildKey","newPost","val","forceUpdate","children","container","style","height","window","innerHeight","marginTop","justifyContent","width","border","overflowY","map","message","margin","fileName","_jsxFileName","lineNumber","columnNumber","direction","alignItems","fullWidth","onChange","e","target","maxRows","variant","onClick"],"sources":["D:/BoMesWeb/bomes/src/components/Chat.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport {Context} from \"../index\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {Box, Button, Container, Grid, TextField} from \"@mui/material\";\r\nimport {getDatabase, ref, set, push, onChildAdded} from \"firebase/database\";\r\n\r\nclass Chat extends React.Component {\r\n\r\n\r\nrender() {\r\n    let key = 0\r\n    const auth = useContext(Context)\r\n    const [user] = useAuthState(auth)\r\n    const db = getDatabase()\r\n    const refer = ref(db,\"TestPathWeb\")\r\n    const [value, setValue] = useState(\"\")\r\n    const messages = []\r\n    const sendMessage = async () => {\r\n        push(refer, value).then(r => {})\r\n        setValue(\"\")\r\n    }\r\n    onChildAdded(refer, (snapshot, prevChildKey) => {\r\n        const newPost = snapshot.val();\r\n        messages.push(newPost)\r\n        this.forceUpdate()\r\n    });\r\n        return (\r\n            <div key={key}>\r\n                <Container>\r\n                    <Grid container\r\n                          style={{height: window.innerHeight - 50, marginTop: 20}}\r\n                          justifyContent={'center'}\r\n                    >\r\n                        <div style={{width: '80%', height:'70vh', border: '1px solid gray', overflowY: 'auto'}}>\r\n                            {\r\n                                messages.map(message =>\r\n                                    <div style={{margin: 20}}>\r\n                                        <Grid container>\r\n                                            <div>{\"Username\"}</div>\r\n                                        </Grid>\r\n                                        <div>{message}</div>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        </div>\r\n                        <Grid\r\n                            container\r\n                            direction={'column'}\r\n                            alignItems={'flex-end'}\r\n                            style={{width: '80%'}}\r\n                        >\r\n                            <TextField fullWidth value={value} onChange={e => setValue(e.target.value)} maxRows={4} variant={'outlined'}/>\r\n                            <Button onClick={sendMessage} variant={\"contained\"}>Отправить</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n// const Chat = () => {\r\n//\r\n// };\r\n\r\nexport default Chat;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}